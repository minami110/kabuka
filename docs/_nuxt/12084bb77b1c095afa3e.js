(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{223:function(e,t,r){"use strict";r.r(t);r(5),r(2),r(4),r(3),r(1),r(10),r(11),r(46);var n=r(17),o=r(0),c=r(99);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={components:{},data:function(){return{bFetchingData:!0,loginuser:{id:"",name:""}}},computed:m({},Object(c.b)({users:"sheet/users"})),mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loginuser.id=e.$route.query.user,t.prev=1,t.next=4,e.$store.dispatch("sheet/getUsers");case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0),e.bFetchingData=!1;case 10:e.bFetchingData=!1,e.loginuser.id&&(e.loginuser.name=e.users[e.loginuser.id].name);case 12:case"end":return t.stop()}}),t,null,[[1,6]])})))()},methods:{onSubmit:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.preventDefault(),r.t0=regeneratorRuntime.keys(t.users);case 2:if((r.t1=r.t0()).done){r.next=14;break}if(n=r.t1.value,o=t.users[n],t.loginuser.name!=o.name){r.next=11;break}return t.loginuser.id=n,(c=m({},t.$route.query)).user=n,t.$router.replace({query:c},(function(){}),(function(){})),r.abrupt("break",14);case 11:t.loginuser.id,r.next=2;break;case 14:case"end":return r.stop()}}),r)})))()}},logout:function(e){e.preventDefault(),this.loginuser.id="",this.loginuser.name="";var t=m({},this.$route.query);delete t.user,this.$router.replace({query:t})}},d=r(52),component=Object(d.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{staticClass:"mt-3"},[r("h1",[e._v("kabuka")]),e._v(" "),r("b-row",[e.bFetchingData?r("b-col",{staticClass:"text-center mb-3",attrs:{cols:"12"}},[r("b-spinner",{attrs:{label:"Spinning"}})],1):r("b-col",[e.loginuser.id?r("div",[r("b-card",{scopedSlots:e._u([{key:"footer",fn:function(){return[r("b-form",{on:{submit:e.logout}},[r("b-button",{attrs:{type:"submit",size:"sm",variant:"danger"}},[e._v("ログアウト")])],1)]},proxy:!0}],null,!1,1930283728)},[r("b-card-title",[e._v("こんにちは "+e._s(e.loginuser.name)+"さん")]),e._v(" "),r("h4",[e._v("\n            カブ価の投稿\n            "),r("b-badge",{attrs:{variant:"danger"}},[e._v("工事中")])],1),e._v(" "),r("div",[r("b-form",{attrs:{inline:""}},[r("b-input",{attrs:{type:"date"}}),e._v(" "),r("b-form-select",{attrs:{value:"AM",options:[{value:e.AM,text:"AM"},{value:e.PM,text:"PM"}]}}),e._v(" "),r("b-input",{attrs:{type:"number",value:"100"}})],1)],1)],1)],1):r("div",[r("b-card",{attrs:{title:"ログイン"}},[r("b-form",{on:{submit:e.onSubmit}},[r("b-form-group",[r("b-form-input",{attrs:{size:"sm",required:"",placeholder:"キャラクターの名前を入力"},model:{value:e.loginuser.name,callback:function(t){e.$set(e.loginuser,"name",t)},expression:"loginuser.name"}})],1),e._v(" "),r("b-button",{attrs:{size:"sm",type:"submit",variant:"primary"}},[e._v("ログイン")])],1)],1)],1)]),e._v(" "),r("b-col",{staticClass:"mt-3",attrs:{cols:"12"}},[r("b-card",{attrs:{title:"Kabu Chart: 1999/01/01~"}},[r("div",[r("b-badge",{attrs:{variant:"danger"}},[e._v("工事中")])],1),e._v(" "),r("div",{staticClass:"mt-2"},[r("b-img-lazy",{attrs:{src:"https://blog-imgs-45.fc2.com/n/i/g/nigoyama/HNI_0017_JPG.jpg"}})],1)])],1),e._v(" "),r("b-col",{staticClass:"mt-3",attrs:{cols:"12"}},[r("b-card",{attrs:{title:"links"}},[r("ul",[r("li",[r("b-link",{attrs:{href:"https://docs.google.com/spreadsheets/d/1kbpmZ2AJJNxfDqhoY6dIipY9OCe_CFYVu3zJv3oXu5A/edit#gid=1674275917"}},[e._v("spleadsheet")])],1),e._v(" "),r("li",[r("b-link",{attrs:{href:"https://github.com/minami110/kabuka"}},[e._v("github")])],1)])])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);