(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{205:function(t,e,r){"use strict";r.r(e);r(5),r(2),r(4),r(11),r(3),r(1),r(42),r(41);var n=r(12),o=r(0),c=r(92);r(13);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={data:function(){return{form:{name:""},alert:{bFailedLogin:!1}}},methods:{login:function(t){var e=this;t.preventDefault();var r=this.form.name;this.$store.dispatch({type:"users/loginUseName",name:r}).then((function(t){if(t){var r=d({},e.$route.query);r.user=e.loginuser.id,e.$router.replace({query:r},(function(){}),(function(){}))}else e.alert.bFailedLogin=!0}))}},computed:d({},Object(c.b)({loginuser:"users/loginuser"}))},f=r(48),h=Object(f.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",[r("b-card-title",[t._v("ログイン")]),t._v(" "),r("b-alert",{attrs:{variant:"danger",dismissible:""},model:{value:t.alert.bFailedLogin,callback:function(e){t.$set(t.alert,"bFailedLogin",e)},expression:"alert.bFailedLogin"}},[t._v("ログインに失敗")]),t._v(" "),r("b-form",{on:{submit:t.login}},[r("b-form-group",[r("b-form-input",{attrs:{size:"sm",required:"",placeholder:"キャラクターの名前を入力"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),r("b-button",{attrs:{size:"sm",type:"submit",variant:"primary"}},[t._v("ログイン")])],1)],1)}),[],!1,null,null,null).exports,v=r(107),O={lessThanXSeconds:{one:"1秒未満",other:"{{count}}秒未満",oneWithSuffix:"約1秒",otherWithSuffix:"約{{count}}秒"},xSeconds:{one:"1秒",other:"{{count}}秒"},halfAMinute:"30秒",lessThanXMinutes:{one:"1分未満",other:"{{count}}分未満",oneWithSuffix:"約1分",otherWithSuffix:"約{{count}}分"},xMinutes:{one:"1分",other:"{{count}}分"},aboutXHours:{one:"約1時間",other:"約{{count}}時間"},xHours:{one:"1時間",other:"{{count}}時間"},xDays:{one:"1日",other:"{{count}}日"},aboutXMonths:{one:"約1か月",other:"約{{count}}か月"},xMonths:{one:"1か月",other:"{{count}}か月"},aboutXYears:{one:"約1年",other:"約{{count}}年"},xYears:{one:"1年",other:"{{count}}年"},overXYears:{one:"1年以上",other:"{{count}}年以上"},almostXYears:{one:"1年近く",other:"{{count}}年近く"}};var y=r(87),j={date:Object(y.a)({formats:{full:"y年M月d日EEEE",long:"y年M月d日",medium:"y/MM/dd",short:"y/MM/dd"},defaultWidth:"full"}),time:Object(y.a)({formats:{full:"H時mm分ss秒 zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:Object(y.a)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},w={lastWeek:"先週のeeeeのp",yesterday:"昨日のp",today:"今日のp",tomorrow:"明日のp",nextWeek:"翌週のeeeeのp",other:"P"};var _=r(55);var D={ordinalNumber:function(t){return Number(t)},era:Object(_.a)({values:{narrow:["BC","AC"],abbreviated:["紀元前","西暦"],wide:["紀元前","西暦"]},defaultWidth:"wide"}),quarter:Object(_.a)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["第1四半期","第2四半期","第3四半期","第4四半期"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:Object(_.a)({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},defaultWidth:"wide"}),day:Object(_.a)({values:{narrow:["日","月","火","水","木","金","土"],short:["日","月","火","水","木","金","土"],abbreviated:["日","月","火","水","木","金","土"],wide:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},defaultWidth:"wide"}),dayPeriod:Object(_.a)({values:{narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},defaultWidth:"wide",formattingValues:{narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},defaultFormattingWidth:"wide"})},P=r(142),x=r(56),S={code:"ja",formatDistance:function(t,e,r){var n;return r=r||{},n="string"==typeof O[t]?O[t]:1===e?r.addSuffix&&O[t].oneWithSuffix?O[t].oneWithSuffix:O[t].one:r.addSuffix&&O[t].otherWithSuffix?O[t].otherWithSuffix.replace("{{count}}",e):O[t].other.replace("{{count}}",e),r.addSuffix?r.comparison>0?n+"後":n+"前":n},formatLong:j,formatRelative:function(t,e,r,n){return w[t]},localize:D,match:{ordinalNumber:Object(P.a)({matchPattern:/^第?\d+/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:Object(x.a)({matchPatterns:{narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^(紀元[前後]|西暦)/i,wide:/^(紀元[前後]|西暦)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^B/i,/^A/i],any:[/^(紀元前)/i,/^(西暦|紀元後)/i]},defaultParseWidth:"any"}),quarter:Object(x.a)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^第[1234一二三四１２３４]四半期/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(1|一|１)/i,/(2|二|２)/i,/(3|三|３)/i,/(4|四|４)/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Object(x.a)({matchPatterns:{narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])月/i,wide:/^([123456789]|1[012])月/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^1/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},defaultParseWidth:"any"}),day:Object(x.a)({matchPatterns:{narrow:/^[日月火水木金土]/,short:/^[日月火水木金土]/,abbreviated:/^[日月火水木金土]/,wide:/^[日月火水木金土]曜日/},defaultMatchWidth:"wide",parsePatterns:{any:[/^日/,/^月/,/^火/,/^水/,/^木/,/^金/,/^土/]},defaultParseWidth:"any"}),dayPeriod:Object(x.a)({matchPatterns:{any:/^(AM|PM|午前|午後|正午|深夜|真夜中|夜|朝)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^(A|午前)/i,pm:/^(P|午後)/i,midnight:/^深夜|真夜中/i,noon:/^正午/i,morning:/^朝/i,afternoon:/^午後/i,evening:/^夜/i,night:/^深夜/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}},k=r(15),M=r(10);var W=r(143);function C(t,e){Object(M.a)(2,arguments);var r=Object(k.a)(t),n=Object(k.a)(e);return r.getTime()<n.getTime()}function F(t){return Object(M.a)(1,arguments),0===Object(k.a)(t).getDay()}function $(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var E={data:function(){return{form:{value:100,date:new Date,isPm:!1},state:{date:null,bSubmitting:!0,bShowDateForm:!1},calender:{minDate:null,maxData:null}}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)({loginuser:"users/loginuser"}),{formDateStr:function(){return Object(v.a)(this.form.date,"MM/dd (E)",{locale:S})},isDateSunday:function(){return F(this.form.date)}}),mounted:function(){var t=new Date;(function(t){Object(M.a)(1,arguments);var e=Object(k.a)(t),r=e.getHours();return r})(t)>11&&(this.form.isPm=!0),this.calender.minDate=new Date,this.calender.minDate.setFullYear(2020),this.calender.minDate.setMonth(2),this.calender.minDate.setDate(20),this.calender.maxData=t,this.state.bSubmitting=!1},methods:{openDateForm:function(t){t.preventDefault(),this.state.bShowDateForm=!this.state.bShowDateForm},submit:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),e.state.bSubmitting=!0,e.state.date=null,n=e.form.value,o=e.form.date,c=e.form.isPm,Object(W.a)(o)){r.next=10;break}return e.state.date=!1,e.state.bSubmitting=!1,r.abrupt("return");case 10:if(!C(o,new Date("2020/03/20"))){r.next=14;break}return e.state.date=!1,e.state.bSubmitting=!1,r.abrupt("return");case 14:if(!F(o)){r.next=18;break}return e.state.date=!1,e.state.bSubmitting=!1,r.abrupt("return");case 18:if(l=e.loginuser.id){r.next=22;break}return e.state.bSubmitting=!1,r.abrupt("return");case 22:return r.next=24,e.$store.dispatch({type:"kabuValues/postKabuValue",date:o,isPm:c,userId:l,value:n});case 24:e.state.bSubmitting=!1;case 25:case"end":return r.stop()}}),r)})))()}}},z=Object(f.a)(E,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-form",{staticClass:"mt-3",on:{submit:t.submit}},[r("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[r("h4",{staticClass:"mb-0"},[r("span",[t._v("カブ値の報告")]),t._v(" "),r("span",[t._v(":")]),t._v(" "),r("span",[t._v(t._s(t.formDateStr))]),t._v(" "),t.form.isPm?r("span",[r("b-badge",{attrs:{pill:"",variant:"warning"}},[t._v("PM")])],1):r("span",[r("b-badge",{attrs:{pill:"",variant:"success"}},[t._v("AM")])],1)])]},proxy:!0},{key:"footer",fn:function(){return[t.isDateSunday?r("div",[r("b-button",{attrs:{size:"sm",variant:"primary",disabled:""}},[t._v("日曜日は送信できません")])],1):r("div",[t.state.bSubmitting?r("b-button",{attrs:{size:"sm",variant:"primary",disabled:""}},[r("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("送信中...\n        ")],1):r("b-button",{attrs:{type:"submit",size:"sm",variant:"primary"}},[t._v("送信")])],1)]},proxy:!0}])},[t._v(" "),r("b-form-row",[r("b-col",{attrs:{cols:"12",md:"6"}},[r("b-form-group",{attrs:{description:"いまの買取価格を入力"}},[r("b-input-group",{staticClass:"mr-2",attrs:{prepend:"$",size:"sm"}},[r("b-input",{attrs:{size:"sm",placeholder:"100",type:"number",min:"1",required:""},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1)],1)],1),t._v(" "),r("b-col",{attrs:{cols:"12"}},[r("a",{staticClass:"text-muted",staticStyle:{"font-size":"0.6rem"},attrs:{href:"#"},on:{click:t.openDateForm}},[r("span",{directives:[{name:"show",rawName:"v-show",value:!t.state.bShowDateForm,expression:"!state.bShowDateForm"}]},[t._v("+")]),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.state.bShowDateForm,expression:"state.bShowDateForm"}]},[t._v("-")]),t._v(" "),r("span",[t._v("日付の指定")])])]),t._v(" "),t.state.bShowDateForm?r("b-col",{staticClass:"mt-2",attrs:{cols:"6"}},[r("b-form-datepicker",{attrs:{id:"datepicker-buttons",min:t.calender.minDate,max:t.calender.maxData,size:"sm",dark:"","value-as-date":""},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1):t._e(),t._v(" "),t.state.bShowDateForm?r("b-col",{staticClass:"mt-2",attrs:{cols:"6"}},[r("b-form-checkbox",{staticClass:"mr-2",model:{value:t.form.isPm,callback:function(e){t.$set(t.form,"isPm",e)},expression:"form.isPm"}},[t._v("PM")])],1):t._e()],1)],1)],1)}),[],!1,null,null,null).exports;function Y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function H(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Y(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var N={data:function(){return{}},methods:{logout:function(t){t.preventDefault(),this.$store.dispatch({type:"users/logout"});var e=H({},this.$route.query);delete e.user,this.$router.replace({query:e})}},computed:H({},Object(c.b)({loginuser:"users/loginuser"})),components:{CardPostKabuValue:z}},A=Object(f.a)(N,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[r("b-form",{on:{submit:t.logout}},[r("b-button",{attrs:{type:"submit",size:"sm",variant:"danger"}},[t._v("ログアウト")])],1)]},proxy:!0}])},[r("b-card-title",[t._v("こんにちは "+t._s(t.loginuser.name)+"さん")]),t._v(" "),r("card-post-kabu-value")],1)}),[],!1,null,null,null).exports,L={data:function(){return{}}},X=Object(f.a)(L,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-card",[e("b-card-title",[this._v("links")]),this._v(" "),e("ul",[e("li",[e("b-link",{attrs:{href:"https://docs.google.com/spreadsheets/d/1kbpmZ2AJJNxfDqhoY6dIipY9OCe_CFYVu3zJv3oXu5A/edit#gid=1674275917"}},[this._v("spleadsheet")])],1),this._v(" "),e("li",[e("b-link",{attrs:{href:"https://github.com/minami110/kabuka"}},[this._v("github")])],1)])],1)}),[],!1,null,null,null).exports,J=r(20);function R(t,e){Object(M.a)(1,arguments);var r=e||{},n=r.locale,o=n&&n.options&&n.options.weekStartsOn,c=null==o?0:Object(J.a)(o),l=null==r.weekStartsOn?c:Object(J.a)(r.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Object(k.a)(t),m=d.getDay(),f=(m<l?7:0)+m-l;return d.setDate(d.getDate()-f),d.setHours(0,0,0,0),d}function T(t,e){Object(M.a)(2,arguments);var r=Object(k.a)(t),n=Object(J.a)(e);return r.setDate(r.getDate()+n),r}function I(t){Object(M.a)(1,arguments);var e=Object(k.a)(t),r=e.getFullYear(),n=e.getMonth(),o=new Date(0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}function Q(t,e){Object(M.a)(2,arguments);var r=Object(k.a)(t),n=Object(J.a)(e),o=r.getMonth()+n,c=new Date(0);c.setFullYear(r.getFullYear(),o,1),c.setHours(0,0,0,0);var l=I(c);return r.setMonth(o,Math.min(l,r.getDate())),r}function V(t,e){if(Object(M.a)(2,arguments),!e||"object"!=typeof e)return new Date(NaN);var r="years"in e?Object(J.a)(e.years):0,n="months"in e?Object(J.a)(e.months):0,o="weeks"in e?Object(J.a)(e.weeks):0,c="days"in e?Object(J.a)(e.days):0,l="hours"in e?Object(J.a)(e.hours):0,d="minutes"in e?Object(J.a)(e.minutes):0,m="seconds"in e?Object(J.a)(e.seconds):0,f=Q(Object(k.a)(t),n+12*r),h=T(f,c+7*o),v=d+60*l,O=m+60*v,y=1e3*O,j=new Date(h.getTime()+y);return j}var U={data:function(){return{}},computed:{monday:function(){var t=V(R(new Date),{days:1});return Object(v.a)(t,"MM/dd")},saturday:function(){var t=V(R(new Date),{days:6});return Object(v.a)(t,"MM/dd")}}};function B(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function K(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?B(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):B(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var G={components:{CardLogin:h,CardUser:A,CardLinks:X,CardChart:Object(f.a)(U,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",[r("b-card-title",[r("span",[t._v("Kabu Chart:")]),t._v(" "),r("span",[t._v(t._s(t.monday))]),t._v(" "),r("span",[t._v("~")]),t._v(" "),r("span",[t._v(t._s(t.saturday))])]),t._v(" "),r("b-img-lazy",{attrs:{fluid:"",src:"https://blog-imgs-45.fc2.com/n/i/g/nigoyama/HNI_0017_JPG.jpg"}})],1)}),[],!1,null,null,null).exports},data:function(){return{bFetchingData:!0}},computed:K({},Object(c.b)({users:"users/users",loginuser:"users/loginuser"})),mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.bFetchingData=!0,e.next=3,Promise.all([t.$store.dispatch("users/getUsers")]);case 3:if(t.bFetchingData=!1,!(r=t.$route.query.user)){e.next=9;break}return e.next=8,t.$store.dispatch({type:"users/loginUseId",id:r});case 8:t.loginuser.id||(delete(n=K({},t.$route.query)).user,t.$router.replace({query:n}));case 9:case"end":return e.stop()}}),e)})))()},methods:{}},Z=Object(f.a)(G,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"mt-3"},[r("h1",[t._v("kabuka")]),t._v(" "),t.bFetchingData?r("b-row",[r("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("strong",[t._v("スプレッドシートにアクセス中...")]),t._v(" "),r("b-spinner",{attrs:{small:"",label:"Spinning"}})],1)],1):r("b-row",[r("b-col",{attrs:{cols:"12"}},[t.loginuser.id?r("card-user"):r("card-login")],1),t._v(" "),t.loginuser.id?r("b-col",{staticClass:"mt-3",attrs:{cols:"12"}},[r("card-chart")],1):t._e(),t._v(" "),t.loginuser.id?r("b-col",{staticClass:"mt-3",attrs:{cols:"12"}},[r("card-links")],1):t._e()],1),t._v(" "),r("b-row",{staticClass:"mt-3"},[r("b-col",{staticClass:"text-center text-muted small",attrs:{cols:"12"}},[r("span",[t._v("version: 0.1.2.3")])])],1)],1)}),[],!1,null,null,null);e.default=Z.exports}}]);